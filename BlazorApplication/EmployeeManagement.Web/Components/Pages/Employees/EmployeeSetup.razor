@page "/setupEmployee/{id}"
@page "/setupEmployee"
@using EmployeeManagement.Models.Enums
@rendermode InteractiveServer
@inherits EmployeeSetupBase

<h3>
    @(string.IsNullOrEmpty(Id) ? "Create Employee" : "Update Employee")
</h3>
<hr />

<EditForm Model="@Employee" OnSubmit="OnSubmit" FormName="SetupEmployeeForm">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group row m-1">
        <label for="firstName" class="col-sm-2 col-form-label">
            First Name
        </label>
        <div class="col-sm-10">
            <InputText class="form-control" id="firstName" placeholder="Enter first name"
                       @bind-Value="Employee.FirstName" />
            <ValidationMessage For="@(()=> Employee.FirstName)" />
        </div>
    </div>

    <div class="form-group row m-1">
        <label for="lastName" class="col-sm-2 col-form-label">
            Last Name
        </label>
        <div class="col-sm-10">
            <InputText class="form-control" id="lastName" placeholder="Enter last name"
                       @bind-Value="Employee.LastName" />
            <ValidationMessage For="@(()=> Employee.LastName)" />
        </div>
    </div>

    <div class="form-group row m-1">
        <label for="email" class="col-sm-2 col-form-label">
            Email
        </label>
        <div class="col-sm-10">
            <InputText class="form-control" id="email" placeholder="Enter email address"
                       @bind-Value="Employee.Email" />
            <ValidationMessage For="@(()=> Employee.Email)" />
        </div>
    </div>

    <div class="form-group row m-1">
        <label for="address" class="col-sm-2 col-form-label">
            Address
        </label>
        <div class="col-sm-10">
            <InputText class="form-control" id="address" placeholder="Enter address"
                       @bind-Value="Employee.Address" />
        </div>
    </div>


    <div class="form-group row m-1">
        <label for="dob" class="col-sm-2 col-form-label">
            Date of Birth
        </label>
        <div class="col-sm-10">
            <InputDate class="form-control" id="dob" placeholder="Enter date of birth"
                       @bind-Value="Employee.DateOfBrith" Format="dd/MM/yyyy"/>
        </div>
    </div>

    <div class="form-group row m-1">
        <label for="gender" class="col-sm-2 col-form-label">
            Gender
        </label>
        <div class="col-sm-10">
            <InputSelect class="form-control" @bind-Value="Employee.Gender">
                @foreach(var gender in Enum.GetValues(typeof(GenderEnum)))
                {
                    <option value="@gender">@gender</option>
                }
            </InputSelect>
        </div>
    </div>

    <div class="form-group row m-1">
        <label for="department" class="col-sm-2 col-form-label">
            Department
        </label>
        <div class="col-sm-10">
            <InputSelect class="form-control" @bind-Value="Employee.DepartmentId">
                @foreach (var department in Departments)
                {
                    <option value="@department.Id">@department.DepartmentName</option>
                }
            </InputSelect>
        </div>
    </div>

    <div class="form-group row m-1">
        <label for="photo" class="col-sm-2 col-form-label">
            Photo
        </label>
        <div class="col-sm-10">
            <InputText class="form-control" id="photo" placeholder="Enter photo path"
                       @bind-Value="Employee.PhotoPath" />
        </div>
    </div>

    <button class="btn btn-primary" type="submit">Submit</button>
</EditForm>

